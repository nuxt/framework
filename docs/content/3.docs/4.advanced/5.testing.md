# Testing

::alert{icon=ðŸ‘‰}
Test utils are still in development and the API and behavior may change. Currently it's for module authors to preview but not yet ready for testing production apps.
::

In Nuxt 3, we have a rewritten version of `@nuxt/test-utils` available as `@nuxt/test-utils-edge`. We support [Vitest](https://github.com/vitest-dev/vitest) and [Jest](https://jestjs.io/) as the test runner.

## Installation

```bash
yarn add --dev @nuxt/test-utils-edge vitest
```

## Setup

In each describe block where you are taking advantage of the `@nuxt/test-utils` helper methods, you will need to set up the test context before beginning.

```ts
import { describe, test } from 'vitest'
import { setup, $fetch } from '@nuxt/test-utils-edge'

describe('My test', () => {
  await setup({
    // test context options
  })

  test('my test', () => {
    // ...
  })
})
```

Behind the scenes, `setup` performs a number of tasks in `beforeAll`, `beforeEach`, `afterEach` and `afterAll` to setup the Nuxt test environment correctly.

### Setup Options

> TODO:

## Testing an app

You can get a response to a server-rendered page with `$fetch`.

```ts
import { describe, it } from 'vitest'
import { setup, $fetch } from '@nuxt/test-utils-edge'

describe('ssr', async () => {
  await setup({ server: true })

  it('renders the index page', async () => {
    const html = await $fetch('/')

    expect(html).toContain('<a>A Link</a>')
  })
})
```

## Testing in a browser

> TODO:
