---
icon: LogoDocker
---

# Docker

How to develop, build and deploy Nuxt via Docker.

::list

- Support for HMR in development
- Standardized environment for development and production
- Minimalist and stable image
- Run your own Docker image on AWS, Azure, Kubernetes, Swarm etc.
::

## Setup

**Note**: You need to have **Docker** and **docker-compose** installed.

### Preparation

Let's start by creating **two files in the project root**, `Dockerfile` and `docker-compose.yml` with the following contents:

```dockerfile [Dockerfile]
FROM node:17.5-alpine as nuxtBuild

WORKDIR /nuxtBuild

COPY ./ /nuxtBuild

RUN yarn install && yarn run build

###

FROM node:17.5-alpine

WORKDIR /app

COPY ./package.json /app/package.json
COPY --from=nuxtBuild /nuxtBuild/.output /app/.output

RUN ( \
    echo '#!/bin/sh'; \
    echo 'if [[ "$NODE_ENV" == "development" ]]; then yarn run dev; else node /app/.output/server/index.mjs; fi' \
    ) > /usr/local/bin/nuxt-entrypoint && chmod +x /usr/local/bin/nuxt-entrypoint

ENV HOST=0.0.0.0

ENTRYPOINT ["nuxt-entrypoint"]
```

and

```yaml [docker-compose.yml]
version: "3"
services:
  nuxt:
    build: .
    environment:
      NODE_ENV: development
    volumes:
      - ".:/app"
    ports:
      - "3000:3000"
```

### Local development

For local development, just run docker compose to launch your Nuxt project:

::code-group

```bash [Docker compose]
docker-compose up -d
```

```bash [Docker compose v2]
docker compose up -d
```

::

You can use following command to **execute into container**:

::code-group

```bash [Docker compose]
docker-compose exec nuxt sh
```

```bash [Docker compose v2]
docker compose exec nuxt sh
```

::

**Nuxt will be available at [http://localhost:3000](http://localhost:3000)**.

### Build into production

To build into production you need to modify the environment `NODE_ENV` and remove `volumes` property, example:

```yaml [docker-compose.yml]
version: "3"
services:
  nuxt:
    build: .
    environment:
      NODE_ENV: production
    ports:
      - "3000:3000"
```

Then just run:

::code-group

```bash [Docker compose]
docker-compose build
```

```bash [Docker compose v2]
docker compose build
```

::

Voila, your production **image is ready** and prepared for deployment into AWS, Kubernetes etc.
